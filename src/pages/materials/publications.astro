---
import imgAndrew2 from '~/assets/images/principalInvestigator/andrew-agbaje-landing-picture.webp';
import FilterContainer from '~/components/filters/FilterContainer.astro';
import Hero from '~/components/widgets/Hero.astro';
import PublicationsList from '~/components/widgets/list/PublicationsList.astro';
import Spacer from '~/components/widgets/Spacer.astro';
import { publicationCategories, publicationTypes } from '~/data/publications';
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Research Publications | Academic Contributions in Child Health',
  description:
    'Access our comprehensive collection of peer-reviewed publications, research papers, and academic contributions in pediatric health, cardiovascular research, and physical activity studies.',
  ignoreTitleTemplate: true,
  openGraph: {
    title: 'Research Publications | Academic Contributions in Child Health',
    description:
      'Access our comprehensive collection of peer-reviewed publications, research papers, and academic contributions in pediatric health, cardiovascular research, and physical activity studies.',
    type: 'website',
    image: imgAndrew2,
    article: {
      publishedTime: '2025-01-17T05:25:10+02:00',
      modifiedTime: '2025-01-17T05:25:10+02:00',
      authors: ['urFIT-child Research Group'],
      tags: [
        'research publications',
        'academic papers',
        'peer-reviewed research',
        'scientific studies',
        'pediatric research',
        'cardiovascular studies',
        'physical activity research',
      ],
    },
  },
  twitter: {
    handle: '@urFIT-child',
    site: '@urFIT-child',
    cardType: 'summary_large_image',
  },
};

// Sort types and categories alphabetically
const sortedTypes = [...publicationTypes].sort();
const sortedCategories = [...publicationCategories].filter((category) => category !== '');
---

<Layout metadata={metadata}>
  <Hero
    tagline="Publications"
    title="Scientific Output"
    subtitle="Explore our peer-reviewed publications, research papers, and academic contributions advancing the understanding of child health through comprehensive longitudinal studies and evidence-based research."
  />

  <FilterContainer
    options={[sortedTypes, sortedCategories]}
    allLabels={['All Types', 'All Categories']}
    showSearch={true}
    targetId="publications-list"
    classes={{
      container: 'py-0 lg:py-0 md:py-0 xl:py-[0px]',
    }}
  />

  <div id="publications-list">
    <PublicationsList />
  </div>

  <Spacer size="sm" />
</Layout>
